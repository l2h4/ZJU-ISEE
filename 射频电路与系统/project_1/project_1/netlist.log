; Top Design: "project_1_lib:frequency_mixer_optim:schematic"
; Netlisted using Hierarchy Policy: "Standard"

Options ResourceUsage=yes UseNutmegFormat=no EnableOptim=no TopDesignName="project_1_lib:frequency_mixer_optim:schematic" DcopOutputNodeVoltages=yes DcopOutputPinCurrents=yes DcopOutputAllSweepPoints=no DcopOutputDcopType=0

SweepPlan:SwpPlan1 SweepPlan[1]="SwpPlan1_seg1" 
SweepPlan:SwpPlan1_seg1 Start=1.0 GHz Stop=6 GHz Step=0.1 GHz 
model MSub1 MSUB H=0.5 mm Er=4.2 Mur=1 Cond=4.1E+7 Hu=15 mm T=0.005 mm TanD=0.0003 Rough=0.0001 mm DielectricLossModel=1 FreqForEpsrTanD=1.0 GHz LowFreqForTanD=1.0 kHz HighFreqForTanD=1.0 THz RoughnessModel=2 
MLIN2:TL9  N__10 N__16 Subst="MSub1" W=0.98 mm L=18.6 mm Wall1=1.0E+30 mil Wall2=1.0E+30 mil Mod=1 
MLIN2:TL8  N__23 N__13 Subst="MSub1" W=0.98 mm L=10.48 mm Wall1=1.0E+30 mil Wall2=1.0E+30 mil Mod=1 
MLIN2:TL7  N__5 N__4 Subst="MSub1" W=0.98 mm L=10.48 mm Wall1=1.0E+30 mil Wall2=1.0E+30 mil Mod=1 
MLIN2:TL6  N__14 N__11 Subst="MSub1" W=0.98 mm L=2.5 mm Wall1=1.0E+30 mil Wall2=1.0E+30 mil Mod=1 
MLIN2:TL5  N__6 N__12 Subst="MSub1" W=1.67 mm L=10.2 mm Wall1=1.0E+30 mil Wall2=1.0E+30 mil Mod=1 
MLIN2:TL4  N__0 N__2 Subst="MSub1" W=0.98 mm L=2.5 mm Wall1=1.0E+30 mil Wall2=1.0E+30 mil Mod=1 
MLIN2:TL3  N__20 N__19 Subst="MSub1" W=0.98 mm L=2.5 mm Wall1=1.0E+30 mil Wall2=1.0E+30 mil Mod=1 
MLIN2:TL2  N__7 N__21 Subst="MSub1" W=1.67 mm L=10.2 mm Wall1=1.0E+30 mil Wall2=1.0E+30 mil Mod=1 
MLIN2:TL1  N__1 N__3 Subst="MSub1" W=0.98 mm L=2.5 mm Wall1=1.0E+30 mil Wall2=1.0E+30 mil Mod=1 
MTEE_ADS:Tee4  N__14 N__12 N__13 Subst="MSub1" W1=0.98 mm W2=1.67 mm W3=0.98 mm 
MTEE_ADS:Tee3  N__21 N__20 N__23 Subst="MSub1" W1=1.67 mm W2=0.98 mm W3=0.98 mm 
MTEE_ADS:Tee2  N__6 N__2 N__4 Subst="MSub1" W1=1.67 mm W2=0.98 mm W3=0.98 mm 
MTEE_ADS:Tee1  N__3 N__7 N__5 Subst="MSub1" W1=0.98 mm W2=1.67 mm W3=0.98 mm 
C:C5  N__18 Vif C=50 pF 
C:C4  N__17 0 C=CA pF 
C:C3  N__16 0 C=CB pF 
C:C2  N__11 N__9 C=CP pF 
C:C1  N__19 N__22 C=CP pF 
L:L4  N__17 N__18 L=LA nH Noise=yes  
L:L3  N__16 N__17 L=LB nH Noise=yes  
L:L2  N__9 0 L=LP nH Noise=yes  
L:L1  0 N__22 L=LP nH Noise=yes  
model DIODEM1 Diode Is=5.0e-9 A Rs=6.0 Ohm N=1.02 Tt=0 sec Cjo=0.2 pF Vj=0.8 V M=0.5 Bv=10 V Ibv=101 uA AllowScaling=0 
"DIODEM1":DIODE2  N__10 N__9 Mode=1 Noise=yes 
"DIODEM1":DIODE1  N__22 N__10 Mode=1 Noise=yes 

IFfreq=LOfreq-RFfreq
fspacing=100 KHz
RFfreq=3.6 GHz
LOfreq=3.8 GHz

PLO=10_dBm
PRF=-20_dBm
aele IP3output=ip3_out(Vif,{-1,1,0},{-1,2,-1},50);PifTone=dBm(mix(Vif,{-1,1,0}));
aele ConvGain=dBm(mix(Vif,{-1,1}))-PRF;
HB:HB1 MaxOrder=4 Freq[1]=LOfreq Freq[2]=RFfreq Order[1]=3 Order[2]=3 StatusLevel=2 Restart=no UseAllSS_Freqs=yes OutputBudgetIV=no HBSS_WSP=0 InputFreq=RFfreq FreqForNoise=IFfreq NoiseInputPort=1 NoiseOutputPort=2 PhaseNoise=no NoiseNode[1]="Vif" SortNoise=1 IncludePortNoise=yes BandwidthForNoise=1.0 Hz \
SweepVar="PLO" SweepPlan="HB1_stim" OutputPlan="HB1_Output" UseKrylov=1 KrylovPrec=1 \


SweepPlan: HB1_stim Start=1 Stop=20 Step=1 

OutputPlan:HB1_Output \
      Type="Output" \
      UseNodeNestLevel=yes \
      NodeNestLevel=2 \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2 \
      UseDeviceCurrentNestLevel=no \
      DeviceCurrentNestLevel=0 \
      DeviceCurrentDeviceType="All" \
      DeviceCurrentSymSyntax=yes \
      UseCurrentNestLevel=yes \
      CurrentNestLevel=999 \
      UseDeviceVoltageNestLevel=no \
      DeviceVoltageNestLevel=0 \
      DeviceVoltageDeviceType="All"

Tran:HB1_tran HB_Sol=1 SteadyState=1 StatusLevel=3 \
Freq[1]=LOfreq Order[1]=3 

Component:tahb_HB1 Module="ATAHB" Type="ModelExtractor" \ 
 Tran_Analysis="HB1_tran" HB_Analysis="HB1" 


Options:Options1 Temp=16.85 Tnom=25 TopologyCheck=yes ForceS_Params=yes V_RelTol=1e-6  \
V_AbsTol=1e-6 V I_RelTol=1e-6 I_AbsTol=1e-12 A GiveAllWarnings=yes MaxWarnings=10  \
ForceM_Params=yes InitialGuessAnnotation=0 TopologyCheckMessages=no doDeltaAC=no ReduceSPortRatio=0.5  \
WarnSOA=yes MaxWarnSOA=5 Census=no MinNodalR=1e-2 Ohm LargeCapThreshold=1e-3 F  \
EnableAssertChecks=no EnableSpareRemoval=yes 

Port:PORT1  N__1 0 Num=1 Z=50 Ohm P[1]=dbmtow(PRF) Freq[1]=RFfreq    Noise=yes Pac=polar(dbmtow(0),0) LimitPhaseNoiseToCarrier=no 
Port:Term3  Vif 0 Num=2 Z=50 Ohm Noise=yes 
Port:PORT2  N__0 0 Num=3 Z=50 Ohm P[1]=dbmtow(PLO) Freq[1]=LOfreq    Noise=yes Pac=polar(dbmtow(0),0) 

CP=0.379868 opt{ 0.1 to 3 }
CB=4.59278 opt{ 0.1 to 7 }
LB=0.525576 opt{ 0.1 to 10 }
CA=5.79984 opt{ 0.1 to 8 }
LA=4.69225 opt{ 0.1 to 5 }
LP=1.86698 opt{ 0.1 to 3 }
